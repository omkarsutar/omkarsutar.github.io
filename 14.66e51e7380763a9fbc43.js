(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{qC1K:function(e,t,i){"use strict";i.r(t),i.d(t,"ForgotPasswordPageModule",function(){return I});var r=i("ofXK"),o=i("3Pt+"),n=i("TEn/"),s=i("tyNb"),a=i("fXoL"),c=i("lGQG"),l=i("JqCM"),b=i("fePz"),f=i("5eHb"),m=i("rNwt");function u(e,t){if(1&e&&(a.Qb(0,"div",7),a.Mb(1,"i",11),a.uc(2),a.Pb()),2&e){const e=a.ac().$implicit;a.Ab(2),a.wc(" ",e.message," ")}}function d(e,t){if(1&e&&(a.Qb(0,"div"),a.tc(1,u,3,1,"div",10),a.Pb()),2&e){const e=t.$implicit,i=a.ac();a.Ab(1),a.gc("ngIf",i.newForm.get("email").hasError(e.type)&&(i.newForm.get("email").dirty||i.newForm.get("email").touched))}}let p=(()=>{class e{constructor(e,t){this.fb=e,this.router=t,this.formTitle="",this.notifyParent=new a.o,this.regexEmail=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")}ngOnInit(){this.newForm=this.fb.group(this.formObject())}formObject(){return this.fieldLabels={email:"email"},this.validationMessages={email:[{type:"required",message:`${this.fieldLabels.email} required.`},{type:"pattern",message:`Enter valid ${this.fieldLabels.email} in acceptable format (example:abc@xyz.com)`}]},{email:["",[o.q.required,o.q.pattern(this.regexEmail)]]}}onCancel(){this.notifyParent.emit(null)}onSubmit(){this.notifyParent.emit(this.newForm.value.email)}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(o.c),a.Lb(s.h))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-form-in-account3"]],outputs:{notifyParent:"notifyParent"},decls:15,vars:4,consts:[[1,"d-flex","flex-row","justify-content-center",3,"formGroup"],[1,"form-group","text-center","w-75"],[1,"d-flex","flex-column","justify-content-center"],[1,"fw-bold"],[1,"form-floating"],["formControlName","email","id","fl1","type","email","placeholder",".",1,"form-control"],["for","fl1",1,"red-color"],[1,"red-color"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-lg","my-3","w-100",3,"disabled","click"],["class","red-color",4,"ngIf"],[1,"fa","fa-exclamation-circle"]],template:function(e,t){1&e&&(a.Qb(0,"form",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Qb(3,"p",3),a.uc(4,"If you've lost your password or wish to reset it, use the Get OTP Button"),a.Pb(),a.Qb(5,"div",4),a.Mb(6,"input",5),a.Qb(7,"label",6),a.uc(8),a.Qb(9,"span",7),a.uc(10,"*"),a.Pb(),a.Pb(),a.Pb(),a.tc(11,d,2,1,"div",8),a.Pb(),a.Qb(12,"div"),a.Qb(13,"button",9),a.Yb("click",function(){return t.onSubmit()}),a.uc(14,"Get OTP"),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.gc("formGroup",t.newForm),a.Ab(8),a.wc("Enter ",t.fieldLabels.email," "),a.Ab(3),a.gc("ngForOf",t.validationMessages.email),a.Ab(2),a.gc("disabled",!t.newForm.valid))},directives:[o.r,o.l,o.e,o.b,o.k,o.d,r.k,r.l],styles:[""]}),e})();function h(e,t){if(1&e&&(a.Qb(0,"div",6),a.Mb(1,"i",17),a.uc(2),a.Pb()),2&e){const e=a.ac().$implicit;a.Ab(2),a.wc(" ",e.message," ")}}function g(e,t){if(1&e&&(a.Qb(0,"div"),a.tc(1,h,3,1,"div",16),a.Pb()),2&e){const e=t.$implicit,i=a.ac();a.Ab(1),a.gc("ngIf",i.newForm.get("email").hasError(e.type)&&(i.newForm.get("email").dirty||i.newForm.get("email").touched))}}function w(e,t){if(1&e&&(a.Qb(0,"div",6),a.Mb(1,"i",17),a.uc(2),a.Pb()),2&e){const e=a.ac().$implicit;a.Ab(2),a.wc(" ",e.message," ")}}function v(e,t){if(1&e&&(a.Qb(0,"div"),a.tc(1,w,3,1,"div",16),a.Pb()),2&e){const e=t.$implicit,i=a.ac();a.Ab(1),a.gc("ngIf",i.newForm.get("otp").hasError(e.type)&&(i.newForm.get("otp").dirty||i.newForm.get("otp").touched))}}function P(e,t){1&e&&a.Mb(0,"i",18)}function y(e,t){1&e&&a.Mb(0,"i",19)}function Q(e,t){if(1&e&&(a.Qb(0,"div",6),a.Mb(1,"i",17),a.uc(2),a.Pb()),2&e){const e=a.ac().$implicit;a.Ab(2),a.wc(" ",e.message," ")}}function F(e,t){if(1&e&&(a.Qb(0,"div"),a.tc(1,Q,3,1,"div",16),a.Pb()),2&e){const e=t.$implicit,i=a.ac();a.Ab(1),a.gc("ngIf",i.newForm.get("password").hasError(e.type)&&(i.newForm.get("password").dirty||i.newForm.get("password").touched))}}let x=(()=>{class e{constructor(e,t){this.fb=e,this.router=t,this.formTitle="",this.notifyParent=new a.o,this.regexEmail=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"),this.showPass=!1}ngOnInit(){this.newForm=this.fb.group(this.formObject())}formObject(){return this.fieldLabels={email:"email",otp:"OTP",password:"password"},this.validationMessages={email:[{type:"required",message:`${this.fieldLabels.email} required.`},{type:"pattern",message:`Enter valid ${this.fieldLabels.email} in acceptable format (example:abc@xyz.com)`}],otp:[{type:"required",message:`${this.fieldLabels.otp} required.`}],password:[{type:"required",message:`${this.fieldLabels.password} required.`}]},{email:[this.email,[o.q.required,o.q.pattern(this.regexEmail)]],otp:["",[o.q.required]],password:["",[o.q.required]]}}onCancel(){this.notifyParent.emit(null)}onSubmit(){this.notifyParent.emit(this.newForm.value)}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(o.c),a.Lb(s.h))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-form-in-account8"]],inputs:{email:"email"},outputs:{notifyParent:"notifyParent"},decls:33,vars:11,consts:[[1,"d-flex","flex-row","justify-content-center",3,"formGroup"],[1,"form-group","text-center","w-75"],[1,"my-2"],[1,"form-floating"],["readonly","","formControlName","email","id","fl1","type","email","placeholder",".",1,"form-control","red-color"],["for","fl1",1,"red-color"],[1,"red-color"],[4,"ngFor","ngForOf"],["formControlName","otp","id","fl1","type","text","inputmode","numeric","placeholder",".",1,"form-control"],[1,"input-group","d-flex","flex-row","justify-content-between"],[1,"form-floating","w-75"],["formControlName","password","id","fl1","placeholder",".",1,"form-control",3,"type"],[1,"input-group-text",3,"click"],["class","fa fa-eye-slash",4,"ngIf"],["class","fa fa-eye",4,"ngIf"],[1,"btn","btn-primary","btn-lg","my-3","w-100",3,"disabled","click"],["class","red-color",4,"ngIf"],[1,"fa","fa-exclamation-circle"],[1,"fa","fa-eye-slash"],[1,"fa","fa-eye"]],template:function(e,t){1&e&&(a.Qb(0,"form",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Qb(3,"div",3),a.Mb(4,"input",4),a.Qb(5,"label",5),a.uc(6),a.Qb(7,"span",6),a.uc(8,"*"),a.Pb(),a.Pb(),a.Pb(),a.tc(9,g,2,1,"div",7),a.Pb(),a.Qb(10,"div",2),a.Qb(11,"div",3),a.Mb(12,"input",8),a.Qb(13,"label",5),a.uc(14),a.Qb(15,"span",6),a.uc(16,"*"),a.Pb(),a.Pb(),a.Pb(),a.tc(17,v,2,1,"div",7),a.Pb(),a.Qb(18,"div",2),a.Qb(19,"div",9),a.Qb(20,"div",10),a.Mb(21,"input",11),a.Qb(22,"label",5),a.uc(23),a.Qb(24,"span",6),a.uc(25,"*"),a.Pb(),a.Pb(),a.Pb(),a.Qb(26,"span",12),a.Yb("click",function(){return t.showPass=!t.showPass}),a.tc(27,P,1,0,"i",13),a.tc(28,y,1,0,"i",14),a.Pb(),a.Pb(),a.tc(29,F,2,1,"div",7),a.Pb(),a.Qb(30,"div"),a.Qb(31,"button",15),a.Yb("click",function(){return t.onSubmit()}),a.uc(32,"Submit"),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.gc("formGroup",t.newForm),a.Ab(6),a.wc("Enter ",t.fieldLabels.email," "),a.Ab(3),a.gc("ngForOf",t.validationMessages.email),a.Ab(5),a.wc("Enter ",t.fieldLabels.otp," "),a.Ab(3),a.gc("ngForOf",t.validationMessages.otp),a.Ab(4),a.gc("type",t.showPass?"text":"password"),a.Ab(2),a.wc("Enter ",t.fieldLabels.password," "),a.Ab(4),a.gc("ngIf",t.showPass),a.Ab(1),a.gc("ngIf",!t.showPass),a.Ab(1),a.gc("ngForOf",t.validationMessages.password),a.Ab(2),a.gc("disabled",!t.newForm.valid))},directives:[o.r,o.l,o.e,o.b,o.k,o.d,r.k,r.l],styles:[""]}),e})();const L=function(e){return[e]};function O(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",7),a.Qb(1,"div",8),a.Mb(2,"img",9),a.Qb(3,"app-form-in-account3",10),a.Yb("notifyParent",function(t){return a.nc(e),a.ac().verifyEmail(t)}),a.Pb(),a.Qb(4,"button",11),a.uc(5,"Cancel"),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.Ab(4),a.gc("routerLink",a.lc(1,L,e.geoService.pageUrls.login))}}function S(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",7),a.Qb(1,"div",8),a.Mb(2,"img",9),a.Qb(3,"app-form-in-account8",12),a.Yb("notifyParent",function(t){return a.nc(e),a.ac().verifyOTP(t)}),a.Pb(),a.Qb(4,"div",13),a.uc(5,"Did not get OTP? "),a.Qb(6,"a",14),a.Yb("click",function(){return a.nc(e),a.ac().regenerateOTP()}),a.uc(7,"Click Here"),a.Pb(),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.Ab(3),a.gc("email",e.emailID)}}const A=[{path:"",component:(()=>{class e{constructor(e,t,i,r,o,n){this.authService=e,this.spinner=t,this.router=i,this.geoService=r,this.toastService=o,this.bsService=n,this.waitForOtp=!1,this.timeLeft=30}ngOnInit(){}verifyEmail(e){this.emailID=e,this.spinner.show(),this.authService.getotpForExistingEmail(e.toLowerCase()).subscribe(e=>{this.spinner.hide(),this.toastService.success(e.message),this.flagShowOTP=!0,this.waitTill30()},e=>{this.spinner.hide(),this.toastService.error(e.error.message)})}verifyOTP(e){this.event=e,this.spinner.show(),this.authService.verifyotpForExistingEmail(this.event.email,this.event.otp,this.event.password).subscribe(e=>{this.spinner.hide(),e.token&&(localStorage.setItem("authToken","Bearer "+e.token),this.geoService.setGlobalVaribleWithoutApi(e.token)),this.toastService.success("Login Success")},e=>{this.spinner.hide(),this.toastService.error(e.error.message)})}regenerateOTP(){this.waitForOtp?this.toastService.info(`Wait for ${this.timeLeft} seconds`):(this.spinner.show(),this.authService.getotpForNewEmail(this.emailID.toLowerCase()).subscribe(e=>{this.spinner.hide(),this.toastService.success(e.message),this.flagShowOTP=!0,this.waitTill30()},e=>{this.spinner.hide(),this.toastService.error(e.error.message)}))}waitTill30(){this.waitForOtp=!0,this.timeLeft=30,!0===this.waitForOtp&&(this.interval=setInterval(()=>{this.timeLeft>0&&this.timeLeft--},1e3)),setTimeout(()=>{this.waitForOtp=!1,this.timeLeft=0,clearInterval(this.interval)},3e4)}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(c.a),a.Lb(l.c),a.Lb(s.h),a.Lb(b.a),a.Lb(f.b),a.Lb(m.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-forgot-password"]],decls:11,vars:5,consts:[[1,"bg-primary","text-white"],[1,"d-flex","flex-row","justify-content-between","align-items-center","m-1"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"col"],[1,"m-0"],["class","d-flex flex-column justify-content-center h-100",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","h-100"],[1,"text-center"],["src","assets/images/logo.png","height","170px",1,"mb-4"],[3,"notifyParent"],[1,"btn","btn-danger","text-white",3,"routerLink"],[3,"email","notifyParent"],[1,"mt-5"],[1,"text-info",3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"ion-header",0),a.Qb(1,"div",1),a.Qb(2,"div"),a.Qb(3,"button",2),a.Mb(4,"i",3),a.Pb(),a.Pb(),a.Qb(5,"div",4),a.Qb(6,"h4",5),a.uc(7,"Recover Password"),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(8,"ion-content"),a.tc(9,O,6,3,"div",6),a.tc(10,S,8,1,"div",6),a.Pb()),2&e&&(a.Ab(3),a.gc("routerLink",a.lc(3,L,t.geoService.pageUrls.login)),a.Ab(6),a.gc("ngIf",!t.flagShowOTP),a.Ab(1),a.gc("ngIf",t.flagShowOTP))},directives:[n.c,n.s,s.i,n.b,r.l,p,x],styles:[""]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({imports:[[s.k.forChild(A)],s.k]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({imports:[[r.b,o.f,o.o,n.o,k]]}),e})()}}]);