(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{xInB:function(e,t,i){"use strict";i.r(t),i.d(t,"LoginPageModule",function(){return S});var o=i("ofXK"),r=i("3Pt+"),s=i("TEn/"),n=i("tyNb"),a=i("fXoL"),c=i("lGQG"),b=i("rNwt"),l=i("JqCM"),f=i("fePz"),m=i("5eHb");function u(e,t){if(1&e&&(a.Pb(0,"div",6),a.Lb(1,"i",16),a.sc(2),a.Ob()),2&e){const e=a.Zb().$implicit;a.zb(2),a.uc(" ",e.message," ")}}function d(e,t){if(1&e&&(a.Pb(0,"div"),a.rc(1,u,3,1,"div",15),a.Ob()),2&e){const e=t.$implicit,i=a.Zb();a.zb(1),a.fc("ngIf",i.newForm.get("email").hasError(e.type)&&(i.newForm.get("email").dirty||i.newForm.get("email").touched))}}function p(e,t){1&e&&a.Lb(0,"i",17)}function g(e,t){1&e&&a.Lb(0,"i",18)}function h(e,t){if(1&e&&(a.Pb(0,"div",6),a.Lb(1,"i",16),a.sc(2),a.Ob()),2&e){const e=a.Zb().$implicit;a.zb(2),a.uc(" ",e.message," ")}}function w(e,t){if(1&e&&(a.Pb(0,"div"),a.rc(1,h,3,1,"div",15),a.Ob()),2&e){const e=t.$implicit,i=a.Zb();a.zb(1),a.fc("ngIf",i.newForm.get("password").hasError(e.type)&&(i.newForm.get("password").dirty||i.newForm.get("password").touched))}}const P=function(e){return{"max-width.px":e}};let v=(()=>{class e{constructor(e,t){this.fb=e,this.router=t,this.formTitle="",this.notifyParent=new a.o,this.regexEmail=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"),this.showPass=!1,this.formWidth=300}ngOnInit(){this.newForm=this.fb.group(this.formObject())}formObject(){return this.fieldLabels={email:"email",password:"password"},this.validationMessages={email:[{type:"required",message:`${this.fieldLabels.email} required.`},{type:"pattern",message:`Enter valid ${this.fieldLabels.email} in acceptable format (example:abc@xyz.com)`}],password:[{type:"required",message:`${this.fieldLabels.password} required.`}]},{email:["",[r.q.required,r.q.pattern(this.regexEmail)]],password:["",[r.q.required]]}}onCancel(){this.notifyParent.emit(null)}onSubmit(){this.notifyParent.emit(this.newForm.value)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(r.c),a.Kb(n.g))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-form-in-account2"]],outputs:{notifyParent:"notifyParent"},decls:25,vars:15,consts:[[3,"formGroup"],[1,"form-group","text-center",3,"ngStyle"],[1,"my-2"],[1,"form-floating"],["formControlName","email","id","fl1","type","email","inputmode","email","placeholder","name@example.com",1,"form-control","form-control-lg"],["for","fl1"],[1,"red-color"],[4,"ngFor","ngForOf"],[1,"input-group"],[1,"form-floating",3,"ngStyle"],["formControlName","password","id","fl1","placeholder","name@example.com",1,"form-control","form-control-lg",3,"type"],[1,"input-group-text",3,"click"],["class","fa fa-eye-slash",4,"ngIf"],["class","fa fa-eye",4,"ngIf"],[1,"btn","btn-primary","btn-lg","my-3",3,"disabled","click"],["class","red-color",4,"ngIf"],[1,"fa","fa-exclamation-circle"],[1,"fa","fa-eye-slash"],[1,"fa","fa-eye"]],template:function(e,t){1&e&&(a.Pb(0,"form",0),a.Pb(1,"div",1),a.Pb(2,"div",2),a.Pb(3,"div",3),a.Lb(4,"input",4),a.Pb(5,"label",5),a.sc(6),a.Pb(7,"span",6),a.sc(8,"*"),a.Ob(),a.Ob(),a.Ob(),a.rc(9,d,2,1,"div",7),a.Ob(),a.Pb(10,"div",2),a.Pb(11,"div",8),a.Pb(12,"div",9),a.Lb(13,"input",10),a.Pb(14,"label",5),a.sc(15),a.Pb(16,"span",6),a.sc(17,"*"),a.Ob(),a.Ob(),a.Ob(),a.Pb(18,"span",11),a.Xb("click",function(){return t.showPass=!t.showPass}),a.rc(19,p,1,0,"i",12),a.rc(20,g,1,0,"i",13),a.Ob(),a.Ob(),a.rc(21,w,2,1,"div",7),a.Ob(),a.Pb(22,"div"),a.Pb(23,"button",14),a.Xb("click",function(){return t.onSubmit()}),a.sc(24,"Login"),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.fc("formGroup",t.newForm),a.zb(1),a.fc("ngStyle",a.jc(11,P,t.formWidth)),a.zb(5),a.uc("Enter ",t.fieldLabels.email," "),a.zb(3),a.fc("ngForOf",t.validationMessages.email),a.zb(3),a.fc("ngStyle",a.jc(13,P,t.formWidth-42)),a.zb(1),a.fc("type",t.showPass?"text":"password"),a.zb(2),a.uc("Enter ",t.fieldLabels.password," "),a.zb(4),a.fc("ngIf",t.showPass),a.zb(1),a.fc("ngIf",!t.showPass),a.zb(1),a.fc("ngForOf",t.validationMessages.password),a.zb(2),a.fc("disabled",!t.newForm.valid))},directives:[r.r,r.l,r.e,o.l,r.b,r.k,r.d,o.j,o.k],styles:[""]}),e})();const y=function(e){return[e]},O=[{path:"",component:(()=>{class e{constructor(e,t,i,o,r){this.authService=e,this.bsService=t,this.spinner=i,this.geoService=o,this.toastService=r,this.flagShowLogin=!0,this.flagShowForgotPassword=!1}ngOnInit(){}login(e){this.spinner.show(),this.authService.login(e.email.toLowerCase(),e.password).subscribe(e=>{this.spinner.hide(),console.log(e),e.token&&localStorage.setItem("authToken","Bearer "+e.token),this.toastService.success("\tCongratulations...!!! You have successfully logged-in."),this.setGlobalVaribleWithoutApi(e.userGlob)},e=>{this.spinner.hide(),this.toastService.error(e.error.message)})}setGlobalVaribleWithoutApi(e){localStorage.removeItem("userGlob"),localStorage.setItem("userGlob",JSON.stringify(e)),this.bsService.userGlobalObjSetter(e),setTimeout(()=>{window.location.reload()},500)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(c.a),a.Kb(b.a),a.Kb(l.c),a.Kb(f.a),a.Kb(m.b))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-login"]],decls:21,vars:6,consts:[[1,"bg-primary"],[1,"d-flex","flex-row","justify-content-between","align-items-center","m-1"],[1,"btn",3,"click"],[1,"fa","fa-bars","fa-2x"],[1,"col"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],["src","assets/images/logo.png","height","170px",1,"mb-4"],[3,"notifyParent"],[1,"mt-5",3,"routerLink"],[1,"mt-1",3,"routerLink"],[2,"font-size","20px","color","white"]],template:function(e,t){1&e&&(a.Pb(0,"ion-header",0),a.Pb(1,"div",1),a.Pb(2,"div"),a.Pb(3,"button",2),a.Xb("click",function(){return t.geoService.openMenu()}),a.Lb(4,"i",3),a.Ob(),a.Ob(),a.Pb(5,"div",4),a.Pb(6,"h4"),a.sc(7,"Login"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(8,"ion-content"),a.Pb(9,"div",5),a.Lb(10,"img",6),a.Pb(11,"app-form-in-account2",7),a.Xb("notifyParent",function(e){return t.login(e)}),a.Ob(),a.Pb(12,"p"),a.sc(13,"Don't have an account? "),a.Pb(14,"a",8),a.sc(15,"Register Now"),a.Ob(),a.Ob(),a.Pb(16,"a",9),a.sc(17,"Forgot Password?"),a.Ob(),a.Ob(),a.Pb(18,"ngx-spinner"),a.Pb(19,"p",10),a.sc(20,"Loading.."),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.zb(14),a.fc("routerLink",a.jc(2,y,t.geoService.pageUrls.register)),a.zb(2),a.fc("routerLink",a.jc(4,y,t.geoService.pageUrls.forgotPass)))},directives:[s.c,s.b,v,n.i,s.r,l.a],styles:[""]}),e})()}];let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({imports:[[n.j.forChild(O)],n.j]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({imports:[[o.b,r.f,r.o,s.o,l.b,L]]}),e})()}}]);